# 자바 ORM 표준 JPA 프로그래밍  
; https://book.naver.com/bookdb/book_detail.nhn?bid=9252528  

---  

## H2 데이터베이스 설치  

> 다운로드  

http://www.h2database.com 에서 All Platforms or Platform-Independent Zip  

> bin/h2.sh (bin/h2.bat) 실행  

---  

## 정리  

### 3. 영속성 관리

- 엔티티 매니저는 엔티티 매니저 팩토리에서 생성 됨  
(J2SE 환경에서는 엔티티 매니저를 만들면 그 내부에 영속성 컨텍스트도 함께 만들어 짐)  
- 영속성 컨텍스트는 애플리케이션과 데이터베이스 사이에서 객체를 보관하는 가상의 데이터베이스 역할을 함  
=> 1차 캐시, 동일성 보장, 트랜잭션을 지원하는 쓰기 지연, 변경 감지, 지연 로딩 기능을 사용할 수 있음
- 영속성 컨텍스트에 저장한 엔티티는 플러시 시점에 데이터베이스에 반영  
(일반적으로 트랜잭션을 커밋할 때 영속성 컨텍스트가 플러시 됨)  
- 영속성 컨텍스트가 관리하는 엔티티를 **영속 상태** 의 엔티티라고 함. 더 이상 관리하지 못하면  
**준영속 상태의 엔티티** 라 함. 준영속 상태의 엔티티는 영속성 컨텍스트가 제공하는 위의 기능들을  
사용할 수 없음
